---
name: test
description: 当用户要求你调试某个功能 或者需要对接口进行测试时 先阅读这份指南
allowed-tools: mcp__code-RAG__*
---

## 执行步骤

1. 在项目根目录中的.claude文件夹中创建debug文件夹 并且在其中创建若干脚本 遵循以下规则
   - 脚本使用检测到的环境 可以是js/py/go等脚本语言
   - 这份测试的目的是模拟用户在实际生产环境中是否可以正确执行功能
   - 完全按照实际生产环境进行调用 而不是调用mock数据或dry run
   - 脚本需要有完善的错误返回机制 以便让调试器清除错误原因
   - 脚本只针对于这一个功能进行调试 除非需要其他功能配合 可以创建链式脚本
   - 随机生成测试用数据 并且在脚本开头用常量列出 方便用户修改
   - 脚本需要方便claude code使用并进行自动化测试
2. 编写完脚本后自动执行这份脚本 并且持续监控返回内容是否正确
   - 如果返回内容符合预期 则进行下一项测试
   - 如果返回内容包含错误 或者不符合预期 则尝试审计代码修复问题 并重新运行测试 直到返回了预期内容为止 如果修复了异常 使用code-RAG记录修复经验
   请注意 不止要检查返回数据的格式 还要检查其内容 例如期待返回的内容是一副猫的图片 但实际返回是一个空图片 虽然返回格式正确 但内容异常 也视为失败 需要重新测试
3. 最后在对话中展示自动测试报告给用户